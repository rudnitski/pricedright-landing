<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PricedRight (Beta) — AI Jewelry Pricing Assistant</title>
  <meta name="description" content="Upload a photo — Humans + AI send a pricing report in 12–24 hours. Free during beta.">
  <style>
    :root{
      --bg:#F9F7F4; --fg:#0E0E0F; --line:#DCDCDC; --muted:#666; --btn:#0E0E0F; --btnfg:#fff;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.5 system-ui,-apple-system,Inter,Segoe UI,Roboto,sans-serif}
    .wrap{max-width:960px;margin:0 auto;padding:20px}
    header{position:sticky;top:0;background:rgba(249,247,244,.9);backdrop-filter:blur(6px);border-bottom:1px solid var(--line);z-index:10}
    .row{display:flex;gap:16px;align-items:center;justify-content:space-between}
    .logo{font-weight:600}
    .hero{display:grid;grid-template-columns:1.1fr .9fr;gap:24px;align-items:center;padding:40px 0}
    .hero h1{font-size:38px;line-height:1.15;margin:0 0 8px}
    .muted{color:var(--muted)}
    .badges{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .badge{border:1px solid var(--line);padding:4px 8px;border-radius:8px;font-size:12px}
    .btn{background:var(--btn);color:var(--btnfg);border:none;border-radius:10px;padding:12px 16px;cursor:pointer}
    .btn:disabled{opacity:.6;cursor:default}
    .btn-ghost{border:1px solid var(--line);background:#fff;color:var(--fg)}
    .card{border:1px solid var(--line);background:#fff;border-radius:14px;padding:12px}
    .grid2{display:grid;gap:10px;grid-template-columns:1fr 1fr}
    .section{padding:24px 0;border-top:1px solid var(--line)}
    details{border:1px solid var(--line);border-radius:12px;background:#fff;padding:12px}
    summary{cursor:pointer;font-weight:600}
    footer{padding:24px 0;border-top:1px solid var(--line);color:#666;font-size:14px}

    /* Modal sheet */
    .modal{position:fixed;inset:0;display:none;align-items:flex-end;justify-content:center}
    .modal.open{display:flex}
    .backdrop{position:absolute;inset:0;background:rgba(0,0,0,.35)}
    .sheet{position:relative;z-index:1;width:100%;max-width:520px;border:1px solid var(--line);background:#fff;border-radius:16px 16px 0 0;padding:16px}
    @media (min-width:760px){.sheet{border-radius:16px}}
    label{display:block;font-weight:600;font-size:14px}
    input,select{width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:8px}
    .help{font-size:12px;color:#666}
    .ok{background:#eaf7ef;border:1px solid #c6e5d1;color:#145a2a;padding:10px;border-radius:8px;margin-top:10px}
    .preview{margin-top:8px;font-size:12px;color:#555;display:flex;gap:10px;align-items:center}
    .preview img{width:54px;height:54px;object-fit:cover;border-radius:8px;border:1px solid var(--line)}
    @media (max-width:900px){.hero{grid-template-columns:1fr}}
  </style>

  <!-- Plausible (TODO: add when ready)
  <script async defer data-domain="YOUR-DOMAIN" src="https://plausible.io/js/script.js"></script>
  -->
</head>
<body>
  <header>
    <div class="wrap row">
      <div class="logo">PricedRight <span style="font-size:12px">Beta</span></div>
      <button class="btn" id="openUpload">Upload your piece</button>
    </div>
  </header>

  <main class="wrap">
    <section class="hero">
      <div>
        <h1>Price your jewelry with confidence.</h1>
        <p class="muted">Upload a photo — <b>Humans + AI</b> send a pricing report in <b>12–24 hours</b>. Free during beta. Limited slots daily.</p>
        <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:14px">
          <button class="btn" id="openUpload2">Upload your piece</button>
          <a class="btn btn-ghost" href="#sample">See sample report</a>
        </div>
        <div class="badges">
          <span class="badge">Beta</span>
          <span class="badge">Humans + AI</span>
          <span class="badge">No payments today</span>
          <span class="badge">Private by default</span>
        </div>
      </div>
      <div class="card">
        <img alt="Jewelry example" style="width:100%;height:240px;object-fit:cover;border-radius:8px"
             src="https://images.unsplash.com/photo-1603569283847-2778687b2c2f?q=80&w=1080&auto=format&fit=crop" />
        <div style="margin-top:8px">
          <div class="muted" style="font-size:13px">Example output</div>
          <div style="font-weight:700;font-size:22px">Suggested price: $48–$59</div>
          <div class="grid2" style="margin-top:6px">
            <div class="badge">Materials • $9.10</div>
            <div class="badge">Labor • 1.5h</div>
            <div class="badge">Fees • Etsy</div>
            <div class="badge">Margin • 60%</div>
          </div>
          <a class="muted" style="font-size:13px;text-decoration:underline;margin-top:6px;display:inline-block" href="#sample">View sample</a>
        </div>
      </div>
    </section>

    <section id="sample" class="section">
      <h2 style="margin:0 0 12px 0;font-size:22px">What’s in the report</h2>
      <ul>
        <li>Price range + rationale</li>
        <li>Cost & fee breakdown</li>
        <li>Channel-specific guidance (Etsy, Shopify, fairs)</li>
        <li>Levers to go premium (materials, photos, packaging)</li>
      </ul>
    </section>

    <section id="faq" class="section">
      <h2 style="margin:0 0 12px 0;font-size:22px">FAQ</h2>
      <details><summary>Is this an appraisal?</summary><p>No—practical pricing guidance for selling.</p></details>
      <details><summary>How long does it take?</summary><p>12–24h in beta; limited daily slots.</p></details>
      <details><summary>Is it free?</summary><p>Yes during beta. No payment today.</p></details>
      <details><summary>Will you use my photos?</summary><p>Only to create your report. You can request deletion.</p></details>
    </section>
  </main>

  <!-- Upload Modal -->
  <div class="modal" id="modal">
    <div class="backdrop" data-close></div>
    <div class="sheet">
      <div class="row">
        <h3 style="margin:0">Upload your jewelry</h3>
        <button class="btn btn-ghost" data-close>Close</button>
      </div>
      <p class="muted" style="margin:8px 0 0">We’ll email your PDF report. Free during beta.</p>

      <form id="reportForm" style="margin-top:12px">
        <div style="margin-top:10px">
          <label for="file">Photo (JPEG/PNG up to 10MB)</label>
          <input id="file" type="file" accept="image/*" required />
          <div id="preview" class="preview" style="display:none">
            <img alt="preview" id="prevImg"><span id="prevName"></span>
          </div>
          <div class="help">iPhone photos are fine.</div>
        </div>

        <div class="grid2" style="margin-top:10px">
          <div>
            <label for="email">Email</label>
            <input id="email" name="email" type="email" required />
          </div>
          <div>
            <label for="channel">Where you plan to sell</label>
            <select id="channel" name="channel" required>
              <option value="" disabled selected>Select</option>
              <option>Etsy</option><option>Shopify</option><option>Craft fair</option><option>Instagram</option>
            </select>
          </div>
        </div>

        <div style="margin-top:10px">
          <label for="materials">Materials (optional)</label>
          <input id="materials" name="materials" placeholder="e.g., 20ga wire, 4mm beads" />
        </div>

        <div style="margin-top:10px">
          <label for="hours">Time spent (hours, optional)</label>
          <input id="hours" name="hours" type="number" min="0" step="0.25" />
        </div>

        <p class="help">Private by default. We never sell your data.</p>

        <div class="row" style="margin-top:12px">
          <div class="muted" style="font-size:13px">Slots left today: <b id="slots">—</b></div>
          <button class="btn" id="submitBtn" type="submit">Join today’s beta queue</button>
        </div>
      </form>

      <div id="success" style="display:none">
        <div class="ok">You’re <b id="qpos">#7</b> in today’s beta. ETA ≈ <b id="eta">18h</b>.</div>
        <p class="muted">We’ll email your PDF report. (In beta we deliver within 12–24h.)</p>
      </div>
    </div>
  </div>

  <footer>
    <div class="wrap">© PricedRight Beta. Humans + AI. No payments today.</div>
  </footer>

  <script>
    // ---- Minimal JS (no $$ globals) ----
    (function(){
      const $ = (s, c=document)=>c.querySelector(s);

      const modal = $('#modal');
      const open1 = $('#openUpload');
      const open2 = $('#openUpload2');
      const form = $('#reportForm');
      const submitBtn = $('#submitBtn');
      const slotsEl = $('#slots');
      const successBox = $('#success');
      const qposEl = $('#qpos');
      const etaEl = $('#eta');
      const fileInput = $('#file');
      const prev = $('#preview');
      const prevImg = $('#prevImg');
      const prevName = $('#prevName');

      // (Optional) Plausible wrapper — becomes real when you add the script
      const track = (name, props={}) => { try { window.plausible && window.plausible(name, { props }); } catch(_){} };

      const DAILY_LIMIT = 30;

      function openModal(){ modal.classList.add('open'); track('upload_opened'); }
      function closeModal(){ modal.classList.remove('open'); }

      // Queue simulation (stable per day/session)
      const key = 'pr-queue-' + new Date().toDateString();
      let queue = JSON.parse(sessionStorage.getItem(key) || 'null');
      if(!queue){
        const next = Math.floor(Math.random()*10)+4; // #4–#13
        const left = Math.max(0, DAILY_LIMIT - next);
        queue = { next, left };
        sessionStorage.setItem(key, JSON.stringify(queue));
      }
      slotsEl.textContent = queue.left;

      open1.addEventListener('click', openModal);
      open2.addEventListener('click', openModal);
      modal.addEventListener('click', (e)=>{ if(e.target.hasAttribute('data-close')) closeModal(); });

      // Local image preview
      fileInput.addEventListener('change', ()=>{
        const f = fileInput.files?.[0];
        if(!f){ prev.style.display='none'; return; }
        const url = URL.createObjectURL(f);
        prevImg.src = url; prevName.textContent = f.name; prev.style.display = 'flex';
      });

      form.addEventListener('submit', async (e)=>{
        e.preventDefault();
        const file = fileInput.files?.[0];
        const email = $('#email').value.trim();
        const channel = $('#channel').value;
        if(!file || !email || !channel) return;

        submitBtn.disabled = true; submitBtn.textContent = 'Submitting…';

        // TODO: when ready, replace this block with:
        // 1) upload image to Uploadcare (get cdnUrl)
        // 2) POST JSON to Formspree (email, channel, materials, hours, photo_url, user_agent)
        // For now, we just simulate success.
        await new Promise(r => setTimeout(r, 500)); // tiny UX pause

        // Success UI
        qposEl.textContent = '#' + queue.next;
        etaEl.textContent = (Math.floor(Math.random()*10)+12) + 'h';
        form.style.display='none';
        successBox.style.display='block';

        track('report_requested', {
          channel,
          materials: Boolean($('#materials').value),
          hours: Boolean($('#hours').value)
        });

        submitBtn.disabled = false; submitBtn.textContent = 'Join today’s beta queue';
      });
    })();
  </script>
</body>
</html>